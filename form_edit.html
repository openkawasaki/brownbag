<ons-page id="form-edit-page">
    <ons-toolbar>
        <div class="left">
            <ons-back-button>お店の登録</ons-back-button>
        </div>
        <div class="center"></div>
    </ons-toolbar>

    <ons-list-header style="color:red"><b>投稿の注意点&nbsp&nbsp;&lt;必須&gt;</b></ons-list-header>
    <ons-list>
        <ons-list-item>
            <label class="checkbox checkbox--material">
                <input id="agreement" type="checkbox" class="checkbox__input checkbox--material__input" required>
                <div class="checkbox__checkmark checkbox--material__checkmark"></div>
                <span id="agreement_text">
                    掲載に際して、ホームページやSNSなどの情報や画像を転用することを許可いただけますか？
                    お店のオーナー様やお店の関係者様に掲載の件でお声がけと許可をいただいていますか？
                </span>
            </label>
        </ons-list-item>
        <div style="font-size:small">
        <span style="color: red"><b>※入力項目が多いですが、「必須」なのは、店名、投稿者の連絡先、テイクアウト情報、の3つだけです！</b><span>
        </div>
    </ons-list>

    <ons-list-header style="color:red"><b>投稿者の連絡先メールアドレス&nbsp;&nbsp;&lt;必須&gt;</b></ons-list-header>
    <ons-list>
        <ons-list-item>
            <ons-input id="mail" placeholder="投稿者の連絡が取れるメールアドレスを教えて下さい" style="width:100%" required></ons-input>
        </ons-list-item>
        <div style="font-size:small">
            ※情報の確認などでご連絡させていただく場合がございます。サイトには掲載されません。<br>
            ※メールアドレスがない場合は、連絡可能な連絡先を記述ください。
        </div>
    </ons-list>

    <ons-list-title>お店情報を入力</ons-list-title>
    <ons-list>
        <ons-list-header style="color:red"><b>店名&nbsp&nbsp;&lt;必須&gt;</b></ons-list-header>
        <ons-list-item>
            <ons-input id="name" placeholder="お店の名前を入力してください" style="width:100%" required></ons-input>
        </ons-list-item>
        <ons-list-header>お店の画像ファイルアップロード：</ons-list-header>
        <ons-list-item>
            <div class="left">
                <span class="button button--outline fileinput-button ">
                    <span>画像選択</span>
                    <input type="file" id="fileupload_name_name" name="file"></input>
                </span>
            </div>
            <div class="center">
                <button id="fileupload_name_cancel" class="button button--outline">キャンセル</button>
            </div>
        </ons-list-item>
        <ons-list-item>
            <div class="box">
                <img id="fileupload_name_image" src="" style="width:30vh;height:30vh;" />
            </div>
        </ons-list-item>

        <ons-list-header>店舗概要：</ons-list-header>
        <ons-list-item>
            <ons-input id="description" placeholder="店舗の概要やお店キャッチコピーみたいのを140文字以内でお書きください。" style="width:100%"></ons-input>
        </ons-list-item>

        <ons-list-header>店舗住所：</ons-list-header>
        <ons-list-item>
            <div class="left">
                <ons-select id="addr-sel" style="width:100%">
                    <option value="">市町村を選択してください</option>
                    <option value="神奈川県川崎市川崎区">川崎市川崎区</option>
                    <option value="神奈川県川崎市幸区">川崎市幸区</option>
                    <option value="神奈川県川崎市中原区">川崎市中原区</option>
                    <option value="神奈川県川崎市高津区">川崎市高津区</option>
                    <option value="神奈川県川崎市宮前区">川崎市宮前区</option>
                    <option value="神奈川県川崎市多摩区">川崎市多摩区</option>
                    <option value="神奈川県川崎市麻生区">川崎市麻生区</option>
                    <option value="神奈川県横浜市青葉区">横浜市青葉区</option>
                    <option value="神奈川県横浜市緑区">横浜市緑区</option>
                    <option value="神奈川県横浜市都築区">横浜市都築区</option>
                    <option value="神奈川県横浜市港北区">横浜市港北区</option>
                    <option value="神奈川県横浜市鶴見区">横浜市鶴見区</option>
                    <option value="">その他</option>
                </ons-select>
            </div>
            <div class="center">
                <ons-input id="addr" placeholder="お店の住所を入力してください・" style="width:100%"></ons-input>
            </div>
        </ons-list-item>

        <ons-list-header>地域：</ons-list-header>
        <ons-list-item>
            <ons-select id="area-sel" style="width:100%">
                <option value="">地域の指定なし</option>
                <option value="武蔵小杉・新丸子・元住吉">武蔵小杉・新丸子・元住吉</option>
                <option value="武蔵新城・武蔵中原">武蔵新城・武蔵中原</option>
                <option value="溝の口・梶ヶ谷・鷺沼">溝の口・梶ヶ谷・鷺沼</option>
                <option value="登戸・稲田堤">登戸・稲田堤</option>
                <option value="川崎・平間">川崎・平間</option>
                <option value="百合ヶ丘・新百合ヶ丘">百合ヶ丘・新百合ヶ丘</option>
                <option value="川崎市川崎区">川崎市川崎区</option>
                <option value="川崎市幸区">川崎市幸区</option>
                <option value="川崎市中原区">川崎市中原区</option>
                <option value="川崎市高津区">川崎市高津区</option>
                <option value="川崎市宮前区">川崎市宮前区</option>
                <option value="川崎市多摩区">川崎市多摩区</option>
                <option value="川崎市麻生区">川崎市麻生区</option>
                <option value="横浜市青葉区">横浜市青葉区</option>
                <option value="横浜市緑区">横浜市緑区</option>
                <option value="横浜市都築区">横浜市都築区</option>
                <option value="横浜市港北区">横浜市港北区</option>
                <option value="横浜市鶴見区">横浜市鶴見区</option>
                <option value="">その他</option>
            </ons-select>
        </ons-list-item>

        <ons-list-header>メニュー情報：</ons-list-header>
        <ons-list-header style="color:red"><b>テイクアウト（持ち帰り）に対応してますか？&nbsp;&nbsp;&lt;必須&gt;</b></ons-list-header>

        <ons-list-item>
            <label class="radio-button radio-button--material">
                <input type="radio" class="radio-button__input radio-button--material__input" name="takeaway" value="対応している"　checked="checked">
                <div class="radio-button__checkmark radio-button--material__checkmark"></div>
                対応している
            </label>
        </ons-list-item>
        <ons-list-item>
            <label class="radio-button radio-button--material">
                <input type="radio" class="radio-button__input radio-button--material__input" name="takeaway"　value="対応してない"　id="takeaway_ng">
                <div class="radio-button__checkmark radio-button--material__checkmark"></div>
                対応してない
            </label>
        </ons-list-item>
        <ons-list-item>
            <label class="radio-button radio-button--material">
                <input type="radio" class="radio-button__input radio-button--material__input" name="takeaway" value="準備中" id="takeaway_no">
                <div class="radio-button__checkmark radio-button--material__checkmark"></div>
                準備中
            </label>
        </ons-list-item>

        <ons-list-header>テイクアウトの画像ファイルアップロード：</ons-list-header>
        <ons-list-item>
            <div class="left">
                <span class="button button--outline fileinput-button ">
                    <span>画像選択</span>
                    <input type="file" id="fileupload_takeaway_name" name="file"></input>
                </span>
            </div>
            <div class="center">
                <button id="fileupload_takeaway_cancel" class="button button--outline">キャンセル</button>
            </div>
        </ons-list-item>
        <ons-list-item>
            <div class="box">
                <img id="fileupload_takeaway_image" style="width:30vh;height:30vh;" />
            </div>
        </ons-list-item>
        <ons-list-item>
            <ons-input id="takeaway_menu" placeholder="テイクアウトメニューの内容（テキストの場合）" style="width:70%"></ons-input>
        </ons-list-item>
        <ons-list-item>
            <ons-input id="takeaway_note" placeholder="テイクアウトに関するお伝えしたい事項（ex.事前にお電話ください、受付時間は●〜●です等）" style="width:70%"></ons-input>
        </ons-list-item>

        <ons-list-header>デリバリーサービス（出前・配達）に対応してますか？</ons-list-header>
        <ons-list-item tappable>
            <label class="left">
                <ons-checkbox input-id="delivery-check-demaekan"></ons-checkbox>
            </label>
            <label for="delivery-check-demaekan" class="center">
                出前館
            </label>
        </ons-list-item>
        <ons-list-item tappable>
            <label class="left">
                <ons-checkbox input-id="delivery-check-ubereats"></ons-checkbox>
            </label>
            <label for="delivery-check-ubereats" class="center">
                UberEats（ウーバーイーツ）
            </label>
        </ons-list-item>
        <ons-list-item tappable>
            <label class="left">
                <ons-checkbox input-id="delivery-check-own"></ons-checkbox>
            </label>
            <label for="delivery-check-own" class="center">
                自店で配達・出前をしている
            </label>
        </ons-list-item>
        <ons-list-item tappable>
            <label class="left">
                <ons-checkbox input-id="delivery-check-other"></ons-checkbox>
            </label>
            <label for="delivery-check-other" class="center">
                その他
            </label>
        </ons-list-item>
        <ons-list-header>デリバリーの画像ファイルアップロード：</ons-list-header>
        <ons-list-item>
            <div class="left">
                <span class="button button--outline fileinput-button ">
                    <span>画像選択</span>
                    <input type="file" id="fileupload_delivery_name" name="file"></input>
                </span>
            </div>
            <div class="center">
                <button id="fileupload_delivery_cancel" class="button button--outline">キャンセル</button>
            </div>
        </ons-list-item>
        <ons-list-item>
            <div class="box">
                <img id="fileupload_delivery_image" style="width:30vh;height:30vh;" />
            </div>
        </ons-list-item>
        <ons-list-item>
            <ons-input id="delivery_menu" placeholder="デリバリーサービス（出前・配達）の内容（テキストの場合）" style="width:70%"></ons-input>
        </ons-list-item>
        <ons-list-item>
            <ons-input id="delivery_note" placeholder="デリバリーサービス（出前・配達）に関するお伝えしたい事項（ex.混雑時は時間がかかる場合があります、受付時間は●〜●です等）" style="width:70%"></ons-input>
        </ons-list-item>

        <ons-list-header>お店の電話番号：</ons-list-header>
        <ons-list-item>
            <ons-input id="phone" placeholder="市外局番から入力してください。例）044-1234-xxxx" style="width:100%"></ons-input>
        </ons-list-item>

        <ons-list-header>営業時間：</ons-list-header>
        <ons-list-item>
            <ons-input id="opening_hours" placeholder="営業時間を記述してください 　例）平日: 07:30-23:00、土曜日: 07:30-23:00、日曜・祝日: 07:30-23:00" style="width:100%"></ons-input>
        </ons-list-item>

        <ons-list-header>定休日：</ons-list-header>
        <ons-list-item>
            <ons-input id="close_day" placeholder="定休日を入力してください。" style="width:100%"></ons-input>
        </ons-list-item>

        <ons-list-header>支払い方法：</ons-list-header>
        <ons-list-item tappable>
            <label class="left">
                <ons-checkbox input-id="payment-check-cash"></ons-checkbox>
            </label>
            <label for="payment-check-cash" class="center">
                現金のみ
            </label>
        </ons-list-item>
        <ons-list-item tappable>
            <label class="left">
                <ons-checkbox input-id="payment-check-card"></ons-checkbox>
            </label>
            <label for="payment-check-card" class="center">
                クレジットカード
            </label>
        </ons-list-item>
        <ons-list-item tappable>
            <label class="left">
                <ons-checkbox input-id="payment-check-qr"></ons-checkbox>
            </label>
            <label for="payment-check-qr" class="center">
                QRコード決済 (PayPay, LINE Pay等)
            </label>
        </ons-list-item>
        <ons-list-item tappable>
            <label class="left">
                <ons-checkbox input-id="payment-check-emoney"></ons-checkbox>
            </label>
            <label for="payment-check-emoney" class="center">
                電子マネー (Suica、PASMO等)
            </label>
        </ons-list-item>
        <ons-list-item>
            <ons-input id="payment_note" placeholder="支払いの条件をテキストで入力してください" style="width:70%"></ons-input>
        </ons-list-item>

        <ons-list-header>ホームページ</ons-list-header>
        <ons-list-item>
            <ons-input id="website" placeholder="お客様に提示したいURL（HPやSNS等一番最新の情報が出ているものを書いてください)" style="width:100%"></ons-input>
        </ons-list-item>

        <ons-list-header>SNS・その他リンク：</ons-list-header>
        <ons-list-item>
            <label class="left">
                <span style="margin-right:10px; margin-left:10px">Twitter</span>
            </label>
            <div class="center">
                <ons-input id="twitter_account" placeholder="Twtterアカウント名" style="width:70%"></ons-input>
            </div>
        </ons-list-item>
        <ons-list-item>
            <label class="left">
                <span style="margin-right:10px; margin-left:10px">Facebook</span>
            </label>
            <div class="center">
                <ons-input id="facebook_account" placeholder="facebookアカウント名" style="width:70%"></ons-input>
            </div>
        </ons-list-item>
        <ons-list-item>
            <label class="left">
                <span style="margin-right:10px; margin-left:10px">Instagram</span>
            </label>
            <div class="center">
                <ons-input id="instagram_account" placeholder="Instagramアカウント名" style="width:70%"></ons-input>
            </div>
        </ons-list-item>
        <ons-list-item>
            <label class="left">
                <span style="margin-right:10px; margin-left:10px">LINE</span>
            </label>
            <div class="center">
                <ons-input id="line_account" placeholder="LINEアカウント名" style="width:70%"></ons-input>
            </div>
        </ons-list-item>
        <ons-list-item>
            <label class="left">
                <span style="margin-right:10px; margin-left:10px">その他のSNS</span>
            </label>
            <div class="center">
                <ons-input id="sns_other_account" placeholder="その他のSNSの名前とSNSアカウント名を入力してください" style="width:100%"></ons-input>
            </div>
        </ons-list-item>

        <ons-list-header>アクセス情報</ons-list-header>
        <ons-list-item>
            <ons-input id="transportation" placeholder="アクセス情報を入力してください。武蔵小杉駅徒歩５分など" style="width:100%"></ons-input>
        </ons-list-item>

        <ons-list-header>ベジタリアン（vegetarian）、ビーガン（vegan）対応のメニュー：</ons-list-header>
        <ons-list-item>
            <ons-input id="diet_note" placeholder="ベジタリアンメニューの内容をテキストで入力してください。" style="width:70%"></ons-input>
        </ons-list-item>

        <ons-list-header>アレルギー対応のメニュー：</ons-list-header>
        <ons-list-item>
            <ons-input id="allergy_note" placeholder="アレルギーメニューの内容をテキストで入力してください。" style="width:70%"></ons-input>
        </ons-list-item>

        <ons-list-header>お店の位置情報</ons-list-header>
        <ons-list-item>
            <ons-input id="latitude" placeholder="緯度(latitude)を入力してください。" style="width:100%"></ons-input>
        </ons-list-item>
        <ons-list-item>
            <ons-input id="longitude" placeholder="経度(longitude)を入力してください。" style="width:100%"></ons-input>
        </ons-list-item>

        <ons-list-header>コロナ対策</ons-list-header>
        <ons-list-item>
            <textarea id="covid19" class="textarea textarea--transparent" rows="3" placeholder="店でのコロナ対策を教えてください（exアルコール除菌手洗いを必須にしています・席を間引いています等）"　 style="width:100%"></textarea>
        </ons-list-item>

        <ons-list-header>その他、留意事項</ons-list-header>
        <ons-list-item>
            <textarea id="note" class="textarea textarea--transparent" rows="3" placeholder="留意事項等のお客様にメッセージがあれば入力してください。"　 style="width:100%"></textarea>
        </ons-list-item>

    </ons-list>

    <hr>

    <p class="button_center" style="margin-top: 30px;">
        <ons-button onclick="send()">登録</ons-button>
    </p>
    </div>

    <script>
        ons.getScriptPage().onInit = function () {
            var title = this.data.title;
            this.querySelector('ons-toolbar .center').innerHTML = title;

            var index = parseInt(this.data.index);
            if (index == 0) {
                this.querySelector('#agreement_text').textContent = "掲載に際して、ホームページやSNSなどの情報や画像を転用することを許可いただけますか？";
            } else { // index == 1
                this.querySelector('#agreement_text').textContent = "お店のオーナー様やお店の関係者様に掲載の件でお声がけと許可をいただいていますか？";
            }

            $("#takeaway_ng").attr("checked", true);
        };

        function send() {
            form_read();
            ons.notification.toast("送信", { timeout: 1000, animation: 'lift' });
        }

        // アップロード用ファイルの登録：店の画像
        $('#fileupload_name_cancel').on('click touchstart', function(){
            $("#fileupload_name_image").attr("src",null);
        });
        $("#fileupload_name_name").fileupload({
            disableImageResize: false,
            previewMaxWidth: 200,
            previewMaxHeight: 200,
            dropZone: $(".wrapper"),
            done: function (e, data) {
                console.log(data);
            },
            add: function (e, data) {
                console.log(data);
                if (data.files && data.files[0]) {
                    //$("#inputIcon").val(data.files[0].name);
                    var reader = new FileReader();
                    reader.onload = function(e) {
                        $("#fileupload_name_image").attr("src", e.target.result);
                    }
                    reader.readAsDataURL(data.files[0]);
                    data.submit();
                }
            }
        });

        // アップロード用ファイルの登録：　テイクアウトの画像
        $('#fileupload_takeaway_cancel').on('click touchstart', function(){
            $("#fileupload_takeaway_image").attr("src",null);
        });
        $("#fileupload_takeaway_name").fileupload({
            disableImageResize: false,
            previewMaxWidth: 200,
            previewMaxHeight: 200,
            dropZone: $(".wrapper"),
            done: function (e, data) {
                console.log(data);
            },
            add: function (e, data) {
                console.log(data);
                if (data.files && data.files[0]) {
                    //$("#inputIcon").val(data.files[0].name);
                    var reader = new FileReader();
                    reader.onload = function(e) {
                        $("#fileupload_takeaway_image").attr("src", e.target.result);
                    }
                    reader.readAsDataURL(data.files[0]);
                    data.submit();
                }
            }
        });

        // アップロード用ファイルの登録：店名
        $('#fileupload_delivery_cancel').on('click touchstart', function(){
            $("#fileupload_delivery_image").attr("src",null);
        });
        $("#fileupload_delivery_name").fileupload({
            disableImageResize: false,
            previewMaxWidth: 200,
            previewMaxHeight: 200,
            dropZone: $(".wrapper"),
            done: function (e, data) {
                console.log(data);
            },
            add: function (e, data) {
                console.log(data);
                if (data.files && data.files[0]) {
                    //$("#inputIcon").val(data.files[0].name);
                    var reader = new FileReader();
                    reader.onload = function(e) {
                        $("#fileupload_delivery_image").attr("src", e.target.result);
                    }
                    reader.readAsDataURL(data.files[0]);
                    data.submit();
                }
            }
        });

    </script>

    <style>
        .button_center {
            max-width: 50%;
            margin: 0 auto;
            text-align:center;
            border: 1px;
        }
        .box {
            padding: 0.5em 1em;
            margin: 2em 0;
            font-weight: bold;
            border: solid 1px #000000;
        }
        .box p {
            margin: 0;
            padding: 0;
        }
    </style>
</ons-page>

